#include <wiringPi.h>
#include <softPwm.h>
#include <stdio.h>

#define POTENTIOMETER_PIN 2  // Change this to the pin you are using for the potentiometer
#define MOTOR_PWM_PIN 1      // Change this to the PWM pin for the motor

#define RANGE 100             // PWM range (0 to RANGE)
#define MOTOR_MIN 50          // Minimum PWM value for motor speed
#define MOTOR_MAX 100          // Maximum PWM value for motor speed

int main(void) {
    if (wiringPiSetupGpio() == -1) {
        fprintf(stderr, "Unable to setup WiringPi.\n");
        return 1;
    }

    // Initialize PWM pin for motor control
    softPwmCreate(MOTOR_PWM_PIN, 0, RANGE);

    // Infinite loop to read the potentiometer and control motor speed
    while (1) {
        int potentiometerValue = analogRead(POTENTIOMETER_PIN);
        int motorSpeed = potentiometerValue *(255/1024);
        softPwmWrite(MOTOR_PWM_PIN, motorSpeed);
    
    delay(100);  // Add a suitable delay to control update rate
    }
return 0;
}
